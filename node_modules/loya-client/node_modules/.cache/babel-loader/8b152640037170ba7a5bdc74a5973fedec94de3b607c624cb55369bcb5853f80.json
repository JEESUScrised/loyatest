{"ast":null,"code":"import React,{createContext,useContext}from'react';import{useAuth}from'../hooks/useAuth';import{usePoints}from'../hooks/usePoints';import{useTelegram}from'../hooks/useTelegram';import{jsx as _jsx}from\"react/jsx-runtime\";const AppContext=/*#__PURE__*/createContext(undefined);export const AppProvider=_ref=>{let{children}=_ref;const auth=useAuth();const points=usePoints();const telegram=useTelegram();const contextValue={// Auth\nuser:auth.user,isAuthenticated:auth.isAuthenticated,isLoading:auth.isLoading,error:auth.error,register:auth.register,logout:auth.logout,refetch:auth.refetch,// Points\nuseCode:points.useCode,checkCode:points.checkCode,getPointsHistory:points.getPointsHistory,claimDailyBonus:points.claimDailyBonus,pointsLoading:points.isLoading,pointsError:points.error,clearError:points.clearError,// Telegram\ntelegramUser:telegram.user,isTelegramReady:telegram.isReady,isTelegram:telegram.isTelegram,getTelegramData:telegram.getTelegramData,showMainButton:telegram.showMainButton,hideMainButton:telegram.hideMainButton,showBackButton:telegram.showBackButton,hideBackButton:telegram.hideBackButton,hapticFeedback:telegram.hapticFeedback,closeApp:telegram.closeApp,theme:telegram.theme,colorScheme:telegram.colorScheme};return/*#__PURE__*/_jsx(AppContext.Provider,{value:contextValue,children:children});};export const useApp=()=>{const context=useContext(AppContext);if(context===undefined){throw new Error('useApp must be used within an AppProvider');}return context;};","map":{"version":3,"names":["React","createContext","useContext","useAuth","usePoints","useTelegram","jsx","_jsx","AppContext","undefined","AppProvider","_ref","children","auth","points","telegram","contextValue","user","isAuthenticated","isLoading","error","register","logout","refetch","useCode","checkCode","getPointsHistory","claimDailyBonus","pointsLoading","pointsError","clearError","telegramUser","isTelegramReady","isReady","isTelegram","getTelegramData","showMainButton","hideMainButton","showBackButton","hideBackButton","hapticFeedback","closeApp","theme","colorScheme","Provider","value","useApp","context","Error"],"sources":["C:/Users/admnp/Desktop/Loya/frontends/client/src/contexts/AppContext.tsx"],"sourcesContent":["import React, { createContext, useContext, ReactNode } from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { usePoints } from '../hooks/usePoints';\nimport { useTelegram } from '../hooks/useTelegram';\n\ninterface AppContextType {\n  // Auth\n  user: any;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  error: string | null;\n  register: (telegramData: any) => Promise<void>;\n  logout: () => void;\n  refetch: () => Promise<void>;\n\n  // Points\n  useCode: (code: string) => Promise<any>;\n  checkCode: (code: string) => Promise<any>;\n  getPointsHistory: (params?: any) => Promise<any>;\n  claimDailyBonus: () => Promise<any>;\n  pointsLoading: boolean;\n  pointsError: string | null;\n  clearError: () => void;\n\n  // Telegram\n  telegramUser: any;\n  isTelegramReady: boolean;\n  isTelegram: boolean;\n  getTelegramData: () => any;\n  showMainButton: (text: string, onClick: () => void) => void;\n  hideMainButton: () => void;\n  showBackButton: (onClick: () => void) => void;\n  hideBackButton: () => void;\n  hapticFeedback: any;\n  closeApp: () => void;\n  theme: any;\n  colorScheme: 'light' | 'dark';\n}\n\nconst AppContext = createContext<AppContextType | undefined>(undefined);\n\ninterface AppProviderProps {\n  children: ReactNode;\n}\n\nexport const AppProvider: React.FC<AppProviderProps> = ({ children }) => {\n  const auth = useAuth();\n  const points = usePoints();\n  const telegram = useTelegram();\n\n  const contextValue: AppContextType = {\n    // Auth\n    user: auth.user,\n    isAuthenticated: auth.isAuthenticated,\n    isLoading: auth.isLoading,\n    error: auth.error,\n    register: auth.register,\n    logout: auth.logout,\n    refetch: auth.refetch,\n\n    // Points\n    useCode: points.useCode,\n    checkCode: points.checkCode,\n    getPointsHistory: points.getPointsHistory,\n    claimDailyBonus: points.claimDailyBonus,\n    pointsLoading: points.isLoading,\n    pointsError: points.error,\n    clearError: points.clearError,\n\n    // Telegram\n    telegramUser: telegram.user,\n    isTelegramReady: telegram.isReady,\n    isTelegram: telegram.isTelegram,\n    getTelegramData: telegram.getTelegramData,\n    showMainButton: telegram.showMainButton,\n    hideMainButton: telegram.hideMainButton,\n    showBackButton: telegram.showBackButton,\n    hideBackButton: telegram.hideBackButton,\n    hapticFeedback: telegram.hapticFeedback,\n    closeApp: telegram.closeApp,\n    theme: telegram.theme,\n    colorScheme: telegram.colorScheme\n  };\n\n  return (\n    <AppContext.Provider value={contextValue}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport const useApp = (): AppContextType => {\n  const context = useContext(AppContext);\n  if (context === undefined) {\n    throw new Error('useApp must be used within an AppProvider');\n  }\n  return context;\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,KAAmB,OAAO,CACnE,OAASC,OAAO,KAAQ,kBAAkB,CAC1C,OAASC,SAAS,KAAQ,oBAAoB,CAC9C,OAASC,WAAW,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAoCnD,KAAM,CAAAC,UAAU,cAAGP,aAAa,CAA6BQ,SAAS,CAAC,CAMvE,MAAO,MAAM,CAAAC,WAAuC,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAClE,KAAM,CAAAE,IAAI,CAAGV,OAAO,CAAC,CAAC,CACtB,KAAM,CAAAW,MAAM,CAAGV,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAW,YAA4B,CAAG,CACnC;AACAC,IAAI,CAAEJ,IAAI,CAACI,IAAI,CACfC,eAAe,CAAEL,IAAI,CAACK,eAAe,CACrCC,SAAS,CAAEN,IAAI,CAACM,SAAS,CACzBC,KAAK,CAAEP,IAAI,CAACO,KAAK,CACjBC,QAAQ,CAAER,IAAI,CAACQ,QAAQ,CACvBC,MAAM,CAAET,IAAI,CAACS,MAAM,CACnBC,OAAO,CAAEV,IAAI,CAACU,OAAO,CAErB;AACAC,OAAO,CAAEV,MAAM,CAACU,OAAO,CACvBC,SAAS,CAAEX,MAAM,CAACW,SAAS,CAC3BC,gBAAgB,CAAEZ,MAAM,CAACY,gBAAgB,CACzCC,eAAe,CAAEb,MAAM,CAACa,eAAe,CACvCC,aAAa,CAAEd,MAAM,CAACK,SAAS,CAC/BU,WAAW,CAAEf,MAAM,CAACM,KAAK,CACzBU,UAAU,CAAEhB,MAAM,CAACgB,UAAU,CAE7B;AACAC,YAAY,CAAEhB,QAAQ,CAACE,IAAI,CAC3Be,eAAe,CAAEjB,QAAQ,CAACkB,OAAO,CACjCC,UAAU,CAAEnB,QAAQ,CAACmB,UAAU,CAC/BC,eAAe,CAAEpB,QAAQ,CAACoB,eAAe,CACzCC,cAAc,CAAErB,QAAQ,CAACqB,cAAc,CACvCC,cAAc,CAAEtB,QAAQ,CAACsB,cAAc,CACvCC,cAAc,CAAEvB,QAAQ,CAACuB,cAAc,CACvCC,cAAc,CAAExB,QAAQ,CAACwB,cAAc,CACvCC,cAAc,CAAEzB,QAAQ,CAACyB,cAAc,CACvCC,QAAQ,CAAE1B,QAAQ,CAAC0B,QAAQ,CAC3BC,KAAK,CAAE3B,QAAQ,CAAC2B,KAAK,CACrBC,WAAW,CAAE5B,QAAQ,CAAC4B,WACxB,CAAC,CAED,mBACEpC,IAAA,CAACC,UAAU,CAACoC,QAAQ,EAACC,KAAK,CAAE7B,YAAa,CAAAJ,QAAA,CACtCA,QAAQ,CACU,CAAC,CAE1B,CAAC,CAED,MAAO,MAAM,CAAAkC,MAAM,CAAGA,CAAA,GAAsB,CAC1C,KAAM,CAAAC,OAAO,CAAG7C,UAAU,CAACM,UAAU,CAAC,CACtC,GAAIuC,OAAO,GAAKtC,SAAS,CAAE,CACzB,KAAM,IAAI,CAAAuC,KAAK,CAAC,2CAA2C,CAAC,CAC9D,CACA,MAAO,CAAAD,OAAO,CAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}