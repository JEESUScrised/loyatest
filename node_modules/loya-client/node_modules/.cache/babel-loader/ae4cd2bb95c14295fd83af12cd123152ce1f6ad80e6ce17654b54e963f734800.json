{"ast":null,"code":"import React,{Component}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export class ErrorBoundary extends Component{constructor(){super(...arguments);this.state={hasError:false};}static getDerivedStateFromError(error){return{hasError:true,error};}componentDidCatch(error,errorInfo){console.error('ErrorBoundary caught an error:',error,errorInfo);if(this.props.onError){this.props.onError(error,errorInfo);}}render(){if(this.state.hasError){if(this.props.fallback){return this.props.fallback;}return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-blue-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-6 bg-white rounded-lg shadow-md max-w-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-6xl mb-4\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2 text-gray-800\",children:\"\\u0427\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"\\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044F.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>this.setState({hasError:false,error:undefined}),className:\"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors\",children:\"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043D\\u043E\\u0432\\u0430\"})]})});}return this.props.children;}}","map":{"version":3,"names":["React","Component","jsx","_jsx","jsxs","_jsxs","ErrorBoundary","constructor","arguments","state","hasError","getDerivedStateFromError","error","componentDidCatch","errorInfo","console","props","onError","render","fallback","className","children","onClick","setState","undefined"],"sources":["C:/Users/admnp/Desktop/Loya/frontends/client/src/components/common/ErrorBoundary.tsx"],"sourcesContent":["import React, { Component, ErrorInfo, ReactNode } from 'react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n}\n\ninterface State {\n  hasError: boolean;\n  error?: Error;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  public state: State = {\n    hasError: false\n  };\n\n  public static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n    \n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    }\n  }\n\n  public render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <div className=\"flex items-center justify-center min-h-screen bg-blue-50\">\n          <div className=\"text-center p-6 bg-white rounded-lg shadow-md max-w-md\">\n            <div className=\"text-red-500 text-6xl mb-4\">⚠️</div>\n            <h2 className=\"text-xl font-semibold mb-2 text-gray-800\">Что-то пошло не так</h2>\n            <p className=\"text-gray-600 mb-4\">Произошла ошибка при загрузке приложения.</p>\n            <button \n              onClick={() => this.setState({ hasError: false, error: undefined })}\n              className=\"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors\"\n            >\n              Попробовать снова\n            </button>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAA8B,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAa/D,MAAO,MAAM,CAAAC,aAAa,QAAS,CAAAL,SAAwB,CAAAM,YAAA,WAAAC,SAAA,OAClDC,KAAK,CAAU,CACpBC,QAAQ,CAAE,KACZ,CAAC,EAED,MAAc,CAAAC,wBAAwBA,CAACC,KAAY,CAAS,CAC1D,MAAO,CAAEF,QAAQ,CAAE,IAAI,CAAEE,KAAM,CAAC,CAClC,CAEOC,iBAAiBA,CAACD,KAAY,CAAEE,SAAoB,CAAE,CAC3DC,OAAO,CAACH,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAEE,SAAS,CAAC,CAEjE,GAAI,IAAI,CAACE,KAAK,CAACC,OAAO,CAAE,CACtB,IAAI,CAACD,KAAK,CAACC,OAAO,CAACL,KAAK,CAAEE,SAAS,CAAC,CACtC,CACF,CAEOI,MAAMA,CAAA,CAAG,CACd,GAAI,IAAI,CAACT,KAAK,CAACC,QAAQ,CAAE,CACvB,GAAI,IAAI,CAACM,KAAK,CAACG,QAAQ,CAAE,CACvB,MAAO,KAAI,CAACH,KAAK,CAACG,QAAQ,CAC5B,CAEA,mBACEhB,IAAA,QAAKiB,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvEhB,KAAA,QAAKe,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrElB,IAAA,QAAKiB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,cACpDlB,IAAA,OAAIiB,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,gGAAmB,CAAI,CAAC,cACjFlB,IAAA,MAAGiB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,+NAAyC,CAAG,CAAC,cAC/ElB,IAAA,WACEmB,OAAO,CAAEA,CAAA,GAAM,IAAI,CAACC,QAAQ,CAAC,CAAEb,QAAQ,CAAE,KAAK,CAAEE,KAAK,CAAEY,SAAU,CAAC,CAAE,CACpEJ,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAC5F,mGAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,MAAO,KAAI,CAACL,KAAK,CAACK,QAAQ,CAC5B,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}