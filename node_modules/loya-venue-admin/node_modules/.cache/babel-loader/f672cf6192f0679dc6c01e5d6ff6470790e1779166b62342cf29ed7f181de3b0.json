{"ast":null,"code":"import React, { useState, useRef, useEffect } from 'react';\nexport const CodeInput = ({\n  length = 6,\n  value = '',\n  onChange,\n  onComplete,\n  placeholder = 'Введите код',\n  disabled = false,\n  error,\n  className = ''\n}) => {\n  const [inputValue, setInputValue] = useState(value);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    setInputValue(value);\n  }, [value]);\n  const handleChange = e => {\n    const newValue = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');\n    if (newValue.length <= length) {\n      setInputValue(newValue);\n      onChange === null || onChange === void 0 ? void 0 : onChange(newValue);\n      if (newValue.length === length) {\n        onComplete === null || onComplete === void 0 ? void 0 : onComplete(newValue);\n      }\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Backspace' && inputValue.length === 0) {\n      // Можно добавить логику для перехода к предыдущему полю\n    }\n  };\n  const classes = ['code-input', error ? 'code-input-error' : '', disabled ? 'code-input-disabled' : '', className].filter(Boolean).join(' ');\n  return React.createElement(\"div\", {\n    className: \"code-input-container\"\n  }, React.createElement(\"input\", {\n    ref: inputRef,\n    type: \"text\",\n    value: inputValue,\n    onChange: handleChange,\n    onKeyDown: handleKeyDown,\n    placeholder: placeholder,\n    disabled: disabled,\n    maxLength: length,\n    className: classes,\n    autoComplete: \"off\",\n    spellCheck: false\n  }), error && React.createElement(\"div\", {\n    className: \"code-input-error-message\"\n  }, error), React.createElement(\"div\", {\n    className: \"code-input-hint\"\n  }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \", length, \"-\\u0437\\u043D\\u0430\\u0447\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0434\"));\n};","map":{"version":3,"names":["React","useState","useRef","useEffect","CodeInput","length","value","onChange","onComplete","placeholder","disabled","error","className","inputValue","setInputValue","inputRef","handleChange","e","newValue","target","toUpperCase","replace","handleKeyDown","key","classes","filter","Boolean","join","createElement","ref","type","onKeyDown","maxLength","autoComplete","spellCheck"],"sources":["C:/Users/user/Desktop/loyaverse/Loya/shared/dist/components/data/CodeInput.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nexport const CodeInput = ({ length = 6, value = '', onChange, onComplete, placeholder = 'Введите код', disabled = false, error, className = '' }) => {\r\n    const [inputValue, setInputValue] = useState(value);\r\n    const inputRef = useRef(null);\r\n    useEffect(() => {\r\n        setInputValue(value);\r\n    }, [value]);\r\n    const handleChange = (e) => {\r\n        const newValue = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');\r\n        if (newValue.length <= length) {\r\n            setInputValue(newValue);\r\n            onChange === null || onChange === void 0 ? void 0 : onChange(newValue);\r\n            if (newValue.length === length) {\r\n                onComplete === null || onComplete === void 0 ? void 0 : onComplete(newValue);\r\n            }\r\n        }\r\n    };\r\n    const handleKeyDown = (e) => {\r\n        if (e.key === 'Backspace' && inputValue.length === 0) {\r\n            // Можно добавить логику для перехода к предыдущему полю\r\n        }\r\n    };\r\n    const classes = [\r\n        'code-input',\r\n        error ? 'code-input-error' : '',\r\n        disabled ? 'code-input-disabled' : '',\r\n        className\r\n    ].filter(Boolean).join(' ');\r\n    return (React.createElement(\"div\", { className: \"code-input-container\" },\r\n        React.createElement(\"input\", { ref: inputRef, type: \"text\", value: inputValue, onChange: handleChange, onKeyDown: handleKeyDown, placeholder: placeholder, disabled: disabled, maxLength: length, className: classes, autoComplete: \"off\", spellCheck: false }),\r\n        error && (React.createElement(\"div\", { className: \"code-input-error-message\" }, error)),\r\n        React.createElement(\"div\", { className: \"code-input-hint\" },\r\n            \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \",\r\n            length,\r\n            \"-\\u0437\\u043D\\u0430\\u0447\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0434\")));\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAO,MAAMC,SAAS,GAAGA,CAAC;EAAEC,MAAM,GAAG,CAAC;EAAEC,KAAK,GAAG,EAAE;EAAEC,QAAQ;EAAEC,UAAU;EAAEC,WAAW,GAAG,aAAa;EAAEC,QAAQ,GAAG,KAAK;EAAEC,KAAK;EAAEC,SAAS,GAAG;AAAG,CAAC,KAAK;EACjJ,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAACK,KAAK,CAAC;EACnD,MAAMS,QAAQ,GAAGb,MAAM,CAAC,IAAI,CAAC;EAC7BC,SAAS,CAAC,MAAM;IACZW,aAAa,CAACR,KAAK,CAAC;EACxB,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EACX,MAAMU,YAAY,GAAIC,CAAC,IAAK;IACxB,MAAMC,QAAQ,GAAGD,CAAC,CAACE,MAAM,CAACb,KAAK,CAACc,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;IACvE,IAAIH,QAAQ,CAACb,MAAM,IAAIA,MAAM,EAAE;MAC3BS,aAAa,CAACI,QAAQ,CAAC;MACvBX,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACW,QAAQ,CAAC;MACtE,IAAIA,QAAQ,CAACb,MAAM,KAAKA,MAAM,EAAE;QAC5BG,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACU,QAAQ,CAAC;MAChF;IACJ;EACJ,CAAC;EACD,MAAMI,aAAa,GAAIL,CAAC,IAAK;IACzB,IAAIA,CAAC,CAACM,GAAG,KAAK,WAAW,IAAIV,UAAU,CAACR,MAAM,KAAK,CAAC,EAAE;MAClD;IAAA;EAER,CAAC;EACD,MAAMmB,OAAO,GAAG,CACZ,YAAY,EACZb,KAAK,GAAG,kBAAkB,GAAG,EAAE,EAC/BD,QAAQ,GAAG,qBAAqB,GAAG,EAAE,EACrCE,SAAS,CACZ,CAACa,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAC3B,OAAQ3B,KAAK,CAAC4B,aAAa,CAAC,KAAK,EAAE;IAAEhB,SAAS,EAAE;EAAuB,CAAC,EACpEZ,KAAK,CAAC4B,aAAa,CAAC,OAAO,EAAE;IAAEC,GAAG,EAAEd,QAAQ;IAAEe,IAAI,EAAE,MAAM;IAAExB,KAAK,EAAEO,UAAU;IAAEN,QAAQ,EAAES,YAAY;IAAEe,SAAS,EAAET,aAAa;IAAEb,WAAW,EAAEA,WAAW;IAAEC,QAAQ,EAAEA,QAAQ;IAAEsB,SAAS,EAAE3B,MAAM;IAAEO,SAAS,EAAEY,OAAO;IAAES,YAAY,EAAE,KAAK;IAAEC,UAAU,EAAE;EAAM,CAAC,CAAC,EAC/PvB,KAAK,IAAKX,KAAK,CAAC4B,aAAa,CAAC,KAAK,EAAE;IAAEhB,SAAS,EAAE;EAA2B,CAAC,EAAED,KAAK,CAAE,EACvFX,KAAK,CAAC4B,aAAa,CAAC,KAAK,EAAE;IAAEhB,SAAS,EAAE;EAAkB,CAAC,EACvD,6CAA6C,EAC7CP,MAAM,EACN,gEAAgE,CAAC,CAAC;AAC9E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}