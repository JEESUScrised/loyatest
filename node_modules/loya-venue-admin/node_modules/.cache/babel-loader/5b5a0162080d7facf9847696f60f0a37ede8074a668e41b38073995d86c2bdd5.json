{"ast":null,"code":"import axios from 'axios';\n// Базовый API клиент\nexport class ApiClient {\n  constructor(baseURL = 'http://localhost:3000/api') {\n    this.baseURL = baseURL;\n    this.client = axios.create({\n      baseURL: this.baseURL,\n      timeout: 10000,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    // Интерцептор для обработки ответов\n    this.client.interceptors.response.use(response => response, error => {\n      console.error('API Error:', error);\n      return Promise.reject(this.handleError(error));\n    });\n  }\n  // Установка токена авторизации\n  setAuthToken(token) {\n    this.client.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  }\n  // Удаление токена авторизации\n  removeAuthToken() {\n    delete this.client.defaults.headers.common['Authorization'];\n  }\n  // GET запрос\n  async get(url, config) {\n    const response = await this.client.get(url, config);\n    return response.data;\n  }\n  // POST запрос\n  async post(url, data, config) {\n    const response = await this.client.post(url, data, config);\n    return response.data;\n  }\n  // PUT запрос\n  async put(url, data, config) {\n    const response = await this.client.put(url, data, config);\n    return response.data;\n  }\n  // DELETE запрос\n  async delete(url, config) {\n    const response = await this.client.delete(url, config);\n    return response.data;\n  }\n  // Обработка ошибок\n  handleError(error) {\n    if (error.response) {\n      // Сервер ответил с кодом ошибки\n      return {\n        success: false,\n        message: error.response.data?.message || 'Ошибка сервера',\n        details: error.response.data?.details\n      };\n    } else if (error.request) {\n      // Запрос был отправлен, но ответа не получено\n      return {\n        success: false,\n        message: 'Ошибка сети. Проверьте подключение к интернету.'\n      };\n    } else {\n      // Что-то пошло не так при настройке запроса\n      return {\n        success: false,\n        message: error.message || 'Неизвестная ошибка'\n      };\n    }\n  }\n}\n// Создание экземпляра API клиента\nexport const apiClient = new ApiClient();\n// Экспорт для использования в других модулях\nexport default apiClient;","map":{"version":3,"names":["axios","ApiClient","constructor","baseURL","client","create","timeout","headers","interceptors","response","use","error","console","Promise","reject","handleError","setAuthToken","token","defaults","common","removeAuthToken","get","url","config","data","post","put","delete","success","message","details","request","apiClient"],"sources":["/home/admnp@delta.sys/Desktops/loyaverse/Loya/shared/dist/services/api.js"],"sourcesContent":["import axios from 'axios';\n// Базовый API клиент\nexport class ApiClient {\n    constructor(baseURL = 'http://localhost:3000/api') {\n        this.baseURL = baseURL;\n        this.client = axios.create({\n            baseURL: this.baseURL,\n            timeout: 10000,\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n        // Интерцептор для обработки ответов\n        this.client.interceptors.response.use((response) => response, (error) => {\n            console.error('API Error:', error);\n            return Promise.reject(this.handleError(error));\n        });\n    }\n    // Установка токена авторизации\n    setAuthToken(token) {\n        this.client.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n    // Удаление токена авторизации\n    removeAuthToken() {\n        delete this.client.defaults.headers.common['Authorization'];\n    }\n    // GET запрос\n    async get(url, config) {\n        const response = await this.client.get(url, config);\n        return response.data;\n    }\n    // POST запрос\n    async post(url, data, config) {\n        const response = await this.client.post(url, data, config);\n        return response.data;\n    }\n    // PUT запрос\n    async put(url, data, config) {\n        const response = await this.client.put(url, data, config);\n        return response.data;\n    }\n    // DELETE запрос\n    async delete(url, config) {\n        const response = await this.client.delete(url, config);\n        return response.data;\n    }\n    // Обработка ошибок\n    handleError(error) {\n        if (error.response) {\n            // Сервер ответил с кодом ошибки\n            return {\n                success: false,\n                message: error.response.data?.message || 'Ошибка сервера',\n                details: error.response.data?.details,\n            };\n        }\n        else if (error.request) {\n            // Запрос был отправлен, но ответа не получено\n            return {\n                success: false,\n                message: 'Ошибка сети. Проверьте подключение к интернету.',\n            };\n        }\n        else {\n            // Что-то пошло не так при настройке запроса\n            return {\n                success: false,\n                message: error.message || 'Неизвестная ошибка',\n            };\n        }\n    }\n}\n// Создание экземпляра API клиента\nexport const apiClient = new ApiClient();\n// Экспорт для использования в других модулях\nexport default apiClient;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}