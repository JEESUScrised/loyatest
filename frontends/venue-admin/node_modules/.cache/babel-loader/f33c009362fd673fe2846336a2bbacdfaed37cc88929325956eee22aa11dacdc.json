{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState, useRef, useEffect } from 'react';\nexport const CodeInput = ({\n  length = 6,\n  value = '',\n  onChange,\n  onComplete,\n  placeholder = 'Введите код',\n  disabled = false,\n  error,\n  className = ''\n}) => {\n  const [inputValue, setInputValue] = useState(value);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    setInputValue(value);\n  }, [value]);\n  const handleChange = e => {\n    const newValue = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');\n    if (newValue.length <= length) {\n      setInputValue(newValue);\n      onChange?.(newValue);\n      if (newValue.length === length) {\n        onComplete?.(newValue);\n      }\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Backspace' && inputValue.length === 0) {\n      // Можно добавить логику для перехода к предыдущему полю\n    }\n  };\n  const classes = ['code-input', error ? 'code-input-error' : '', disabled ? 'code-input-disabled' : '', className].filter(Boolean).join(' ');\n  return _jsxs(\"div\", {\n    className: \"code-input-container\",\n    children: [_jsx(\"input\", {\n      ref: inputRef,\n      type: \"text\",\n      value: inputValue,\n      onChange: handleChange,\n      onKeyDown: handleKeyDown,\n      placeholder: placeholder,\n      disabled: disabled,\n      maxLength: length,\n      className: classes,\n      autoComplete: \"off\",\n      spellCheck: false\n    }), error && _jsx(\"div\", {\n      className: \"code-input-error-message\",\n      children: error\n    }), _jsxs(\"div\", {\n      className: \"code-input-hint\",\n      children: [\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \", length, \"-\\u0437\\u043D\\u0430\\u0447\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0434\"]\n    })]\n  });\n};","map":{"version":3,"names":["jsx","_jsx","jsxs","_jsxs","useState","useRef","useEffect","CodeInput","length","value","onChange","onComplete","placeholder","disabled","error","className","inputValue","setInputValue","inputRef","handleChange","e","newValue","target","toUpperCase","replace","handleKeyDown","key","classes","filter","Boolean","join","children","ref","type","onKeyDown","maxLength","autoComplete","spellCheck"],"sources":["/home/admnp@delta.sys/Desktops/loyaverse/Loya/shared/dist/components/data/CodeInput.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState, useRef, useEffect } from 'react';\nexport const CodeInput = ({ length = 6, value = '', onChange, onComplete, placeholder = 'Введите код', disabled = false, error, className = '' }) => {\n    const [inputValue, setInputValue] = useState(value);\n    const inputRef = useRef(null);\n    useEffect(() => {\n        setInputValue(value);\n    }, [value]);\n    const handleChange = (e) => {\n        const newValue = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');\n        if (newValue.length <= length) {\n            setInputValue(newValue);\n            onChange?.(newValue);\n            if (newValue.length === length) {\n                onComplete?.(newValue);\n            }\n        }\n    };\n    const handleKeyDown = (e) => {\n        if (e.key === 'Backspace' && inputValue.length === 0) {\n            // Можно добавить логику для перехода к предыдущему полю\n        }\n    };\n    const classes = [\n        'code-input',\n        error ? 'code-input-error' : '',\n        disabled ? 'code-input-disabled' : '',\n        className\n    ].filter(Boolean).join(' ');\n    return (_jsxs(\"div\", { className: \"code-input-container\", children: [_jsx(\"input\", { ref: inputRef, type: \"text\", value: inputValue, onChange: handleChange, onKeyDown: handleKeyDown, placeholder: placeholder, disabled: disabled, maxLength: length, className: classes, autoComplete: \"off\", spellCheck: false }), error && (_jsx(\"div\", { className: \"code-input-error-message\", children: error })), _jsxs(\"div\", { className: \"code-input-hint\", children: [\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \", length, \"-\\u0437\\u043D\\u0430\\u0447\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0434\"] })] }));\n};\n"],"mappings":"AAAA,SAASA,GAAG,IAAIC,IAAI,EAAEC,IAAI,IAAIC,KAAK,QAAQ,mBAAmB;AAC9D,SAASC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACnD,OAAO,MAAMC,SAAS,GAAGA,CAAC;EAAEC,MAAM,GAAG,CAAC;EAAEC,KAAK,GAAG,EAAE;EAAEC,QAAQ;EAAEC,UAAU;EAAEC,WAAW,GAAG,aAAa;EAAEC,QAAQ,GAAG,KAAK;EAAEC,KAAK;EAAEC,SAAS,GAAG;AAAG,CAAC,KAAK;EACjJ,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAACK,KAAK,CAAC;EACnD,MAAMS,QAAQ,GAAGb,MAAM,CAAC,IAAI,CAAC;EAC7BC,SAAS,CAAC,MAAM;IACZW,aAAa,CAACR,KAAK,CAAC;EACxB,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EACX,MAAMU,YAAY,GAAIC,CAAC,IAAK;IACxB,MAAMC,QAAQ,GAAGD,CAAC,CAACE,MAAM,CAACb,KAAK,CAACc,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;IACvE,IAAIH,QAAQ,CAACb,MAAM,IAAIA,MAAM,EAAE;MAC3BS,aAAa,CAACI,QAAQ,CAAC;MACvBX,QAAQ,GAAGW,QAAQ,CAAC;MACpB,IAAIA,QAAQ,CAACb,MAAM,KAAKA,MAAM,EAAE;QAC5BG,UAAU,GAAGU,QAAQ,CAAC;MAC1B;IACJ;EACJ,CAAC;EACD,MAAMI,aAAa,GAAIL,CAAC,IAAK;IACzB,IAAIA,CAAC,CAACM,GAAG,KAAK,WAAW,IAAIV,UAAU,CAACR,MAAM,KAAK,CAAC,EAAE;MAClD;IAAA;EAER,CAAC;EACD,MAAMmB,OAAO,GAAG,CACZ,YAAY,EACZb,KAAK,GAAG,kBAAkB,GAAG,EAAE,EAC/BD,QAAQ,GAAG,qBAAqB,GAAG,EAAE,EACrCE,SAAS,CACZ,CAACa,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAC3B,OAAQ3B,KAAK,CAAC,KAAK,EAAE;IAAEY,SAAS,EAAE,sBAAsB;IAAEgB,QAAQ,EAAE,CAAC9B,IAAI,CAAC,OAAO,EAAE;MAAE+B,GAAG,EAAEd,QAAQ;MAAEe,IAAI,EAAE,MAAM;MAAExB,KAAK,EAAEO,UAAU;MAAEN,QAAQ,EAAES,YAAY;MAAEe,SAAS,EAAET,aAAa;MAAEb,WAAW,EAAEA,WAAW;MAAEC,QAAQ,EAAEA,QAAQ;MAAEsB,SAAS,EAAE3B,MAAM;MAAEO,SAAS,EAAEY,OAAO;MAAES,YAAY,EAAE,KAAK;MAAEC,UAAU,EAAE;IAAM,CAAC,CAAC,EAAEvB,KAAK,IAAKb,IAAI,CAAC,KAAK,EAAE;MAAEc,SAAS,EAAE,0BAA0B;MAAEgB,QAAQ,EAAEjB;IAAM,CAAC,CAAE,EAAEX,KAAK,CAAC,KAAK,EAAE;MAAEY,SAAS,EAAE,iBAAiB;MAAEgB,QAAQ,EAAE,CAAC,6CAA6C,EAAEvB,MAAM,EAAE,gEAAgE;IAAE,CAAC,CAAC;EAAE,CAAC,CAAC;AACtkB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}