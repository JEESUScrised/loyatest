{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CodeInput = void 0;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst CodeInput = ({\n  length = 6,\n  value = '',\n  onChange,\n  onComplete,\n  placeholder = 'Введите код',\n  disabled = false,\n  error,\n  className = ''\n}) => {\n  const [inputValue, setInputValue] = (0, react_1.useState)(value);\n  const inputRef = (0, react_1.useRef)(null);\n  (0, react_1.useEffect)(() => {\n    setInputValue(value);\n  }, [value]);\n  const handleChange = e => {\n    const newValue = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');\n    if (newValue.length <= length) {\n      setInputValue(newValue);\n      onChange?.(newValue);\n      if (newValue.length === length) {\n        onComplete?.(newValue);\n      }\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Backspace' && inputValue.length === 0) {\n      // Можно добавить логику для перехода к предыдущему полю\n    }\n  };\n  const classes = ['code-input', error ? 'code-input-error' : '', disabled ? 'code-input-disabled' : '', className].filter(Boolean).join(' ');\n  return (0, jsx_runtime_1.jsxs)(\"div\", {\n    className: \"code-input-container\",\n    children: [(0, jsx_runtime_1.jsx)(\"input\", {\n      ref: inputRef,\n      type: \"text\",\n      value: inputValue,\n      onChange: handleChange,\n      onKeyDown: handleKeyDown,\n      placeholder: placeholder,\n      disabled: disabled,\n      maxLength: length,\n      className: classes,\n      autoComplete: \"off\",\n      spellCheck: false\n    }), error && (0, jsx_runtime_1.jsx)(\"div\", {\n      className: \"code-input-error-message\",\n      children: error\n    }), (0, jsx_runtime_1.jsxs)(\"div\", {\n      className: \"code-input-hint\",\n      children: [\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \", length, \"-\\u0437\\u043D\\u0430\\u0447\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0434\"]\n    })]\n  });\n};\nexports.CodeInput = CodeInput;","map":{"version":3,"names":["Object","defineProperty","exports","value","CodeInput","jsx_runtime_1","require","react_1","length","onChange","onComplete","placeholder","disabled","error","className","inputValue","setInputValue","useState","inputRef","useRef","useEffect","handleChange","e","newValue","target","toUpperCase","replace","handleKeyDown","key","classes","filter","Boolean","join","jsxs","children","jsx","ref","type","onKeyDown","maxLength","autoComplete","spellCheck"],"sources":["/home/admnp@delta.sys/Desktops/loyaverse/Loya/shared/dist/components/data/CodeInput.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeInput = void 0;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst CodeInput = ({ length = 6, value = '', onChange, onComplete, placeholder = 'Введите код', disabled = false, error, className = '' }) => {\n    const [inputValue, setInputValue] = (0, react_1.useState)(value);\n    const inputRef = (0, react_1.useRef)(null);\n    (0, react_1.useEffect)(() => {\n        setInputValue(value);\n    }, [value]);\n    const handleChange = (e) => {\n        const newValue = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');\n        if (newValue.length <= length) {\n            setInputValue(newValue);\n            onChange?.(newValue);\n            if (newValue.length === length) {\n                onComplete?.(newValue);\n            }\n        }\n    };\n    const handleKeyDown = (e) => {\n        if (e.key === 'Backspace' && inputValue.length === 0) {\n            // Можно добавить логику для перехода к предыдущему полю\n        }\n    };\n    const classes = [\n        'code-input',\n        error ? 'code-input-error' : '',\n        disabled ? 'code-input-disabled' : '',\n        className\n    ].filter(Boolean).join(' ');\n    return ((0, jsx_runtime_1.jsxs)(\"div\", { className: \"code-input-container\", children: [(0, jsx_runtime_1.jsx)(\"input\", { ref: inputRef, type: \"text\", value: inputValue, onChange: handleChange, onKeyDown: handleKeyDown, placeholder: placeholder, disabled: disabled, maxLength: length, className: classes, autoComplete: \"off\", spellCheck: false }), error && ((0, jsx_runtime_1.jsx)(\"div\", { className: \"code-input-error-message\", children: error })), (0, jsx_runtime_1.jsxs)(\"div\", { className: \"code-input-hint\", children: [\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \", length, \"-\\u0437\\u043D\\u0430\\u0447\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0434\"] })] }));\n};\nexports.CodeInput = CodeInput;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}